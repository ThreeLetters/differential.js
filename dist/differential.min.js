/*
 Differential.js: JS HTML Animation/movement engine

 Author: Andrews54757
 License: MIT (https://github.com/ThreeLetters/differential.js/blob/master/LICENSE)
 Source: https://github.com/ThreeLetters/differential.js
 Build: v0.0.1
 Built on: 09/12/2017
*/

(function(w){function A(a){return{easing:a.easing||"swing",done:a.done||function(){},queue:void 0!==a.queue?a.queue:!0,specialEasing:a.specialEasing,step:a.step,progress:a.progress,start:a.start||function(){},duration:a.duration||400}}function O(a){a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,b,d,f){return b+b+d+d+f+f});return(a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a))?[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]:null}function F(a,c,b,d){function f(b,a,c){return(((1-
3*c+3*a)*b+(3*c-6*a))*b+3*a)*b}var e="Float32Array"in w;if(4!==arguments.length)return!1;for(var k=0;4>k;++k)if("number"!==typeof arguments[k]||isNaN(arguments[k])||!isFinite(arguments[k]))return!1;a=Math.min(a,1);b=Math.min(b,1);a=Math.max(a,0);b=Math.max(b,0);var n=e?new Float32Array(11):Array(11),x=!1;e=function(e){if(!x&&(x=!0,a!==c||b!==d))for(var h=0;11>h;++h)n[h]=f(.1*h,a,b);if(a===c&&b===d)return e;if(0===e)return 0;if(1===e)return 1;var k=0;for(h=1;10!==h&&n[h]<=e;++h)k+=.1;--h;h=k+(e-n[h])/
(n[h+1]-n[h])*.1;var g=3*(1-3*b+3*a)*h*h+2*(3*b-6*a)*h+3*a;if(.001<=g){for(k=0;4>k;++k){g=3*(1-3*b+3*a)*h*h+2*(3*b-6*a)*h+3*a;if(0===g)break;var l=f(h,a,b)-e;h-=l/g}e=h}else if(0===g)e=h;else{h=k;k+=.1;var q=0;do l=h+(k-h)/2,g=f(l,a,b)-e,0<g?k=l:h=l;while(1E-7<Math.abs(g)&&10>++q);e=l}return f(e,c,d)};e.getControlPoints=function(){return[{x:a,y:c},{x:b,y:d}]};var g="generateBezier("+[a,c,b,d]+")";e.toString=function(){return g};return e}function P(a){return function(c){return 1/a*Math.round(c*a)}}
function B(a,c,b){G[c.nameJS]?(c=G[c.nameJS](a,c,b))&&(a.style[c[0]]=c[1]):a.style[c.nameJS]=b}function Q(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})}function R(a){return a.split("-").map(function(a,b){return 0!==b?a.charAt(0).toUpperCase()+a.slice(1):a}).join("")}function m(a,c){c||(c=[]);if(!a)return c;if('"'===a.charAt(0)){var b=a.match(/("(?:[^"\\]|\\.)*")(?: (.*))?/);c.push([3,b[1]]);m(b[2],c)}else if("'"===a.charAt(0))b=a.match(/('(?:[^'\\]|\\.)*')(?: (.*))?/),c.push([3,
b[1]]),m(b[2],c);else if(b=a.match(/^([0-9\.]*)(em|ex|%|px|cm|mm|in|pt|pc|ch|rem|vh|vw|vmin|vmax|s|ms|deg|grad|rad|turn|Q)?(?: (.*))?/),b[1])c.push([0,parseFloat(b[1]),b[2]||""]),m(b[3],c);else if((b=a.match(/^([a-z\-]*?)\(([^\)]*)\)(?: (.*))?/))&&b[1]){if("rgb"===b[1])c.push([2,b[2].split(",").map(function(b){return parseInt(b)})]);else{var d=b[2].split(",").map(function(b){return m(b)});c.push([1,b[1],d])}m(b[3],c)}else"#"===a.charAt(0)?(b=a.match(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})(?: (.*))?/),
c.push([2,O(b[1])]),m(b[2],c)):(b=a.match(/^([a-z\-]*?)(?: (.*))/))&&b[1]?(p[b[1]]?c.push([2,p[b[1]].slice(0)]):c.push([3,b[1]]),m(b[2],c)):p[a]?c.push([2,p[a].slice(0)]):c.push([3,a]);return c}function S(a){function c(a){a.forEach(function(a){switch(a[0]){case 0:b.push(a[1],a[2]," ");break;case 1:b.push(a[1],"(");a[2].forEach(function(a,d){0!==d&&b.push(",");c(a)});b.push(")"," ");break;case 2:b.push("rgb(");a[1].forEach(function(a,d){0!==d&&b.push(",");b.push(a)});b.push(")"," ");break;case 3:b.push(a[1],
" ")}})}var b=[];c(a);b.pop();return b.join("")}function C(a,c,b){switch(b){case "+":return a+c;case "-":return a-c;case "*":return a*c;case "/":return a/c;case "^":return Math.pow(a,c);default:return a}}function H(a,c,b){for(var d=0;d<c.length;++d){if(!a[d])throw"Fail";switch(c[d][0]){case 0:!1===c[d][3]&&(c[d][1]=0);c[d][1]=C(a[d][1],c[d][1],b);break;case 1:c[d][1].forEach(function(f,e){H(a[d][2][e],c[d][2][e],b)});break;case 2:!1===c[d][2]?c[d][1].forEach(function(a,e){c[d][1][e]=parseInt(C(0,
a,b))}):c[d][1].forEach(function(f,e){c[d][1][e]=parseInt(C(a[d][1][e],f,b))})}}}function I(a,c){for(var b=0;b<c.length;++b)if(a[b])switch(c[b][0]){case 0:!c[b][2]||a[b][2]&&"%"===c[b][2]||(a[b][2]=c[b][2]);break;case 1:c[b][1].forEach(function(d,f){a[b][2][f]||(a[b][2][f]=[]);I(a[b][2][f],c[b][2][f])})}else a[b]=c[b].slice(0),a[b].push(!1)}function J(a,c){for(var b=0;b<c.length;++b){if(!a[b])throw"Fail";switch(c[b][0]){case 0:a[b][2]&&"%"===c[b][2]&&"%"!==a[b][2]&&(c[b][2]=a[b][2],c[b][1]=c[b][1]/
100*a[b][1]);a[b][3]=c[b][1]-a[b][1];break;case 2:a[b][2]=[];c[b][1].forEach(function(d,c){a[b][2][c]=d-a[b][1][c]});break;case 1:c[b][1].forEach(function(d,f){J(a[b][2][f],c[b][2][f])});break;case 3:a[b][1]=c[b][1]}}}function T(a,c,b){function d(a){a.forEach(function(a){switch(a[0]){case 0:f.push(a[1]+a[3]*b,a[2]," ");break;case 1:f.push(a[1],"(");a[2].forEach(function(b,a){0!==a&&f.push(",");d(b)});f.push(")"," ");break;case 2:f.push("rgb(");a[1].forEach(function(d,c){0!==c&&f.push(",");f.push(parseInt(d+
a[2][c]*b))});f.push(")"," ");break;case 3:f.push(a[1]," ")}})}var f=[];d(c.originalValue);f.pop();B(a.element,c,f.join(""))}function y(a,c,b){var d={},f;for(f in c)(function(c,f){var e=c[f],k=b.easing;"object"===typeof e&&(k=e.easing||b.easing,e=e.value);e=e.toString();var g=!1;"="===e.charAt(1)&&(g=e.charAt(0),e=e.substr(2));var l={nameJS:R(f),nameCSS:Q(f),toValue:null,toValueRaw:null,originalValue:null,originalValueRaw:null,init:function(){var b=K[this.nameJS]?K[this.nameJS](a,this):a.style[this.nameJS]?
a.style[this.nameJS]:w.getComputedStyle(a).getPropertyValue(this.nameCSS);this.originalValueRaw=b;if(!this.originalValueRaw||this.originalValueRaw===this.toValueRaw)return B(a,this,this.toValueRaw),!1;this.originalValue=m(this.originalValueRaw);I(this.originalValue,this.toValue);g&&H(this.originalValue,this.toValue,g);J(this.originalValue,this.toValue);return!0}};l.toValueRaw=e;l.toValue=m(l.toValueRaw);d[k]||(d[k]=[]);b.queue?d[k].push(l):l.init()&&d[k].push(l)})(c,f);c={element:a,options:b,properties:d,
duration:b.duration,init:function(){var b=!1,a;for(a in d)d[a]=d[a].filter(function(a){return a.init()?b=!0:!1});return b}};b.queue||item.options.start();g[b.queue?"main":"parrallel"].list.splice(0,0,c);u=!1;E()}function L(a,c){var b=c/a.duration,d;for(d in a.properties)v[d](b),a.properties[d].forEach(function(c){T(a,c,b)})}function M(a,c){for(var b in a.properties)a.properties[b].forEach(function(b){B(a.element,b,S(b.toValue))});b=g[c];b.parrallel?(b=Queue.list.indexOf(a),Queue.list.splice(b,1)):
b.active=!1;a.options.done()}function E(){if(!u){w.requestAnimationFrame(E);var a=Date.now(),c=a-r;r=a;if(1<=c){var b=!0,d;for(d in g)if(g[d].parrallel)g[d].list.forEach(function(a){if(void 0===a.startTime)a.startTime=r;else{var c=r-a.startTime;c>=a.duration?M(a,d):L(a,c,d)}b=!1});else if(!g[d].active&&g[d].list.length&&(g[d].active=g[d].list.pop(),g[d].active.options.start(),g[d].active.init()||(g[d].active=!1,g[d].done()),b=!1),a=g[d].active)void 0===a.startTime?a.startTime=r:(c=r-a.startTime,c>=
a.duration?M(a,d):L(a,c,d)),b=!1;b&&(u=b)}}}var v={},g={main:{list:[],active:!1,parrallel:!1},parrallel:{list:[],active:!1,parrallel:!0}},r=Date.now(),u=!0,p={aliceblue:"240,248,255",antiquewhite:"250,235,215",aquamarine:"127,255,212",aqua:"0,255,255",azure:"240,255,255",beige:"245,245,220",bisque:"255,228,196",black:"0,0,0",blanchedalmond:"255,235,205",blueviolet:"138,43,226",blue:"0,0,255",brown:"165,42,42",burlywood:"222,184,135",cadetblue:"95,158,160",chartreuse:"127,255,0",chocolate:"210,105,30",
coral:"255,127,80",cornflowerblue:"100,149,237",cornsilk:"255,248,220",crimson:"220,20,60",cyan:"0,255,255",darkblue:"0,0,139",darkcyan:"0,139,139",darkgoldenrod:"184,134,11",darkgray:"169,169,169",darkgrey:"169,169,169",darkgreen:"0,100,0",darkkhaki:"189,183,107",darkmagenta:"139,0,139",darkolivegreen:"85,107,47",darkorange:"255,140,0",darkorchid:"153,50,204",darkred:"139,0,0",darksalmon:"233,150,122",darkseagreen:"143,188,143",darkslateblue:"72,61,139",darkslategray:"47,79,79",darkturquoise:"0,206,209",
darkviolet:"148,0,211",deeppink:"255,20,147",deepskyblue:"0,191,255",dimgray:"105,105,105",dimgrey:"105,105,105",dodgerblue:"30,144,255",firebrick:"178,34,34",floralwhite:"255,250,240",forestgreen:"34,139,34",fuchsia:"255,0,255",gainsboro:"220,220,220",ghostwhite:"248,248,255",gold:"255,215,0",goldenrod:"218,165,32",gray:"128,128,128",grey:"128,128,128",greenyellow:"173,255,47",green:"0,128,0",honeydew:"240,255,240",hotpink:"255,105,180",indianred:"205,92,92",indigo:"75,0,130",ivory:"255,255,240",
khaki:"240,230,140",lavenderblush:"255,240,245",lavender:"230,230,250",lawngreen:"124,252,0",lemonchiffon:"255,250,205",lightblue:"173,216,230",lightcoral:"240,128,128",lightcyan:"224,255,255",lightgoldenrodyellow:"250,250,210",lightgray:"211,211,211",lightgrey:"211,211,211",lightgreen:"144,238,144",lightpink:"255,182,193",lightsalmon:"255,160,122",lightseagreen:"32,178,170",lightskyblue:"135,206,250",lightslategray:"119,136,153",lightsteelblue:"176,196,222",lightyellow:"255,255,224",limegreen:"50,205,50",
lime:"0,255,0",linen:"250,240,230",magenta:"255,0,255",maroon:"128,0,0",mediumaquamarine:"102,205,170",mediumblue:"0,0,205",mediumorchid:"186,85,211",mediumpurple:"147,112,219",mediumseagreen:"60,179,113",mediumslateblue:"123,104,238",mediumspringgreen:"0,250,154",mediumturquoise:"72,209,204",mediumvioletred:"199,21,133",midnightblue:"25,25,112",mintcream:"245,255,250",mistyrose:"255,228,225",moccasin:"255,228,181",navajowhite:"255,222,173",navy:"0,0,128",oldlace:"253,245,230",olivedrab:"107,142,35",
olive:"128,128,0",orangered:"255,69,0",orange:"255,165,0",orchid:"218,112,214",palegoldenrod:"238,232,170",palegreen:"152,251,152",paleturquoise:"175,238,238",palevioletred:"219,112,147",papayawhip:"255,239,213",peachpuff:"255,218,185",peru:"205,133,63",pink:"255,192,203",plum:"221,160,221",powderblue:"176,224,230",purple:"128,0,128",red:"255,0,0",rosybrown:"188,143,143",royalblue:"65,105,225",saddlebrown:"139,69,19",salmon:"250,128,114",sandybrown:"244,164,96",seagreen:"46,139,87",seashell:"255,245,238",
sienna:"160,82,45",silver:"192,192,192",skyblue:"135,206,235",slateblue:"106,90,205",slategray:"112,128,144",snow:"255,250,250",springgreen:"0,255,127",steelblue:"70,130,180",tan:"210,180,140",teal:"0,128,128",thistle:"216,191,216",tomato:"255,99,71",turquoise:"64,224,208",violet:"238,130,238",wheat:"245,222,179",whitesmoke:"245,245,245",white:"255,255,255",yellowgreen:"154,205,50",yellow:"255,255,0"},t;for(t in p)p[t]=p[t].split(",").map(function(a){return parseInt(a)});var N={ease:[.25,.1,.25,1],
"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1],easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,
.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86]};for(t in N){var z=N[t];v[t]=F(z[0],z[1],z[2],z[3])}v.linear=function(a){return a};v.swing=function(a){return.5-Math.cos(a*Math.PI)/2};var U=function(){function a(b,a,c){var d=b.v+c.dv*a;return{dx:d,dv:-b.tension*(b.x+c.dx*a)-b.friction*d}}function c(b,c){var d={dx:b.v,dv:-b.tension*b.x-b.friction*
b.v},e=a(b,.5*c,d),g=a(b,.5*c,e),n=a(b,c,g),x=1/6*(d.dv+2*(e.dv+g.dv)+n.dv);b.x+=1/6*(d.dx+2*(e.dx+g.dx)+n.dx)*c;b.v+=x*c;return b}return function k(a,f,e){var d={x:-1,v:0,tension:null,friction:null},g=[0],q=0,l;a=parseFloat(a)||500;f=parseFloat(f)||20;e=e||null;d.tension=a;d.friction=f;(l=null!==e)?(q=k(a,f),a=q/e*.016):a=.016;for(;;){var h=c(h||d,a);g.push(1+h.x);q+=16;if(!(1E-4<Math.abs(h.x)&&1E-4<Math.abs(h.v)))break}return l?function(a){return g[a*(g.length-1)|0]}:q}}(),G={},K={};w.D=function k(c,
b,d,f,e){if("string"===typeof c)return k[c].apply(Array.from(arguments).slice(1));d&&"object"!==typeof d&&("function"===typeof d?(d={done:d},f&&(d.duration=f),e&&(d.easing=e)):"number"===typeof d&&(d={duration:d},f&&(d.easing=f),e&&(d.done=e)));d=A(d||{});if(Array.isArray(b)){var g=!1,m=!1;d.start&&(g=d.start,d.start=function(){});d.done&&(m=d.done,d.done=function(){});return b.map(function(e,f){if(g&&0===f){var h=A(d);h.start=g;return y(c,e,h)}return m&&f===b.length-1?(h=A(d),h.done=m,y(c,e,h)):
y(c,e,d)})}return y(c,b,d)};D.addEase=function(c,b){v[c]="function"===typeof b?b:"object"===typeof b?4===b.length?F(b[0],b[1],b[2],b[3]):U(b[0],b[1]):P(b)};D.stop=function(){u=!0};D.start=function(){u=!1;E()};D.clear=function(){g={main:{list:[],active:!1,parrallel:!1},parrallel:{list:[],active:!1,parrallel:!0}}};HTMLElement.prototype.D=function(c,b,d,f){return D(this,c,b,d,f)}})(window);
