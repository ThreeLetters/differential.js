/*
 Differential.js: JS HTML Animation/movement engine

 Author: Andrews54757
 License: MIT (https://github.com/ThreeLetters/differential.js/blob/master/LICENSE)
 Source: https://github.com/ThreeLetters/differential.js
 Build: v0.0.1
 Built on: 07/12/2017
*/

(function(r){function B(a){return{easing:a.easing||"swing",done:a.done||function(){},queue:void 0!==a.queue?a.queue:!0,specialEasing:a.specialEasing,step:a.step,progress:a.progress,start:a.start||function(){},duration:a.duration||400}}function w(a,g,b,c){function k(b,a,c){return(((1-3*c+3*a)*b+(3*c-6*a))*b+3*a)*b}var d="Float32Array"in r;if(4!==arguments.length)return!1;for(var h=0;4>h;++h)if("number"!==typeof arguments[h]||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;a=Math.min(a,1);b=Math.min(b,
1);a=Math.max(a,0);b=Math.max(b,0);var m=d?new Float32Array(11):Array(11),p=!1;d=function(d){if(!p&&(p=!0,a!==g||b!==c))for(var f=0;11>f;++f)m[f]=k(.1*f,a,b);if(a===g&&b===c)return d;if(0===d)return 0;if(1===d)return 1;var h=0;for(f=1;10!==f&&m[f]<=d;++f)h+=.1;--f;f=h+(d-m[f])/(m[f+1]-m[f])*.1;var e=3*(1-3*b+3*a)*f*f+2*(3*b-6*a)*f+3*a;if(.001<=e){for(h=0;4>h;++h){e=3*(1-3*b+3*a)*f*f+2*(3*b-6*a)*f+3*a;if(0===e)break;var l=k(f,a,b)-d;f-=l/e}d=f}else if(0===e)d=f;else{f=h;h+=.1;var C=0;do l=f+(h-f)/
2,e=k(l,a,b)-d,0<e?h=l:f=l;while(1E-7<Math.abs(e)&&10>++C);d=l}return k(d,g,c)};d.getControlPoints=function(){return[{x:a,y:g},{x:b,y:c}]};var e="generateBezier("+[a,g,b,c]+")";d.toString=function(){return e};return d}function E(a){return function(g){return 1/a*Math.round(g*a)}}function F(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})}function G(a){return a.split("-").map(function(a,b){return 0!==b?a.charAt(0).toUpperCase()+a.slice(1):a}).join("")}function H(a,g,b){b=B(b);var c=
{},k;for(k in g){var d=g[k],h=b.easing;"object"===typeof d&&(h=d.easing||b.easing,d=d.value);var m=!1;"="===d.charAt(1)&&(m=d.charAt(0),d=d.substr(2));var p={nameJS:G(k),nameCSS:F(k),ending:null,toValue:null,originalValue:null,originalValueRaw:null,diffValue:null,init:function(){var b=a.style[this.nameJS]?a.style[this.nameJS]:r.getComputedStyle(a).getPropertyValue(this.nameCSS);this.originalValueRaw=b;this.originalValue=parseFloat(this.originalValueRaw);if(m)switch(m){case "+":this.toValue=this.originalValue+
this.toValue;break;case "-":this.toValue=this.originalValue-this.toValue;break;case "*":this.toValue*=this.originalValue;break;case "/":this.toValue=this.originalValue/this.toValue;break;case "^":this.toValue=Math.pow(this.originalValue,this.toValue)}this.diffValue=this.toValue-this.originalValue;this.ending.trim()||(this.ending=this.originalValueRaw.substr(this.originalValue.toString().length))}},l=parseFloat(d);p.ending=d.substr(l.toString().length);p.toValue=l;b.queue||p.init();c[h]||(c[h]=[]);
c[h].push(p)}e[b.queue?"main":"parrallel"].list.push({element:a,options:b,properties:c,duration:b.duration,init:function(){for(var b in c)c[b].forEach(function(b){b.init()})}});t=!1;x()}function y(a,g){var b=g/a.duration,c;for(c in a.properties){var k=q[c](b);a.properties[c].forEach(function(b){a.element.style[b.nameJS]=(b.diffValue*k+b.originalValue).toString()+b.ending})}}function z(a,g){for(var b in a.properties)a.properties[b].forEach(function(b){a.element.style[b.nameJS]=b.toValue.toString()+
b.ending});b=e[g];b.parrallel?(b=Queue.list.indexOf(a),Queue.list.splice(b,1)):b.active=!1}function x(){if(!t){r.requestAnimationFrame(x);var a=Date.now(),g=a-n;n=a;if(1<=g){var b=!0,c;for(c in e)if(e[c].parrallel)e[c].list.forEach(function(a){if(void 0===a.startTime)a.startTime=n;else{var d=n-a.startTime;d>=a.duration?z(a,c):y(a,d,c)}b=!1});else if(!e[c].active&&e[c].list.length&&(e[c].active=e[c].list.pop(),e[c].active.init()),a=e[c].active)void 0===a.startTime?a.startTime=n:(g=n-a.startTime,g>=
a.duration?z(a,c):y(a,g,c)),b=!1;b&&(t=b)}}}var q={},e={main:{list:[],active:!1,parrallel:!1},parrallel:{list:[],active:!1,parrallel:!0}},n=Date.now(),t=!0,A={ease:[.25,.1,.25,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1],easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],
easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86]},v;for(v in A){var u=A[v];q[v]=w(u[0],u[1],u[2],u[3])}q.linear=function(a){return a};q.swing=function(a){return.5-
Math.cos(a*Math.PI)/2};var I=function(){function a(b,a,k){var c=b.v+k.dv*a;return{dx:c,dv:-b.tension*(b.x+k.dx*a)-b.friction*c}}function g(b,c){var k={dx:b.v,dv:-b.tension*b.x-b.friction*b.v},d=a(b,.5*c,k),h=a(b,.5*c,d),g=a(b,c,h),e=1/6*(k.dv+2*(d.dv+h.dv)+g.dv);b.x+=1/6*(k.dx+2*(d.dx+h.dx)+g.dx)*c;b.v+=e*c;return b}return function h(a,k,d){var c={x:-1,v:0,tension:null,friction:null},e=[0],l=0,n;a=parseFloat(a)||500;k=parseFloat(k)||20;d=d||null;c.tension=a;c.friction=k;(n=null!==d)?(l=h(a,k),a=l/
d*.016):a=.016;for(;;){var f=g(f||c,a);e.push(1+f.x);l+=16;if(!(1E-4<Math.abs(f.x)&&1E-4<Math.abs(f.v)))break}return n?function(a){return e[a*(e.length-1)|0]}:l}}();r.D=function h(g,b,c,e,d){if("string"===typeof g)return h[g].apply(Array.from(arguments).slice(1));c&&"object"!==typeof c&&("function"===typeof c?(c={done:c},e&&(c.duration=e),d&&(c.easing=d)):(c={duration:c},e&&(c.easing=e),d&&(c.done=d)));return H(g,b,c||{})};D.addEase=function(e,b){q[e]="function"===typeof b?b:"object"===typeof b?4===
b.length?w(b[0],b[1],b[2],b[3]):I(b[0],b[1]):E(b)};D.stop=function(){t=!0}})(window);
